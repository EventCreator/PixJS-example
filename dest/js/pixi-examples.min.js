function getParameterByName(e){var i=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return i&&decodeURIComponent(i[1].replace(/\+/g," "))}function getMajorPixiVersion(e){var i=5;return"v"===e.substr(0,1)?i=parseInt(e.substr(1,1),10):"release"===e&&(i=4),i}jQuery(document).ready(function(l){window.onpopstate=function(e){c.pixiVersionString=getParameterByName("v")||"release",c.generateIFrameContent(),l(".select-group .select li.selected").removeClass("selected");var i=l('.select-group .select li[data-val="'+c.pixiVersionString+'"]');i.addClass("selected"),l(".select-group .select .current").text(i.text()),l(".main-content").animate({scrollTop:0},200)};var c=c||{};c.pixiVersionString=getParameterByName("v")||"release",c.majorPixiVersion=getMajorPixiVersion(c.pixiVersionString),c.exampleUrl="",c.exampleFilename="",c.exampleSourceCode="",c.exampleRequiredPlugins=[],c.exampleInvalidVersions=[],c.editorOptions={mode:"javascript",lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,viewportMargin:1/0,lineWrapping:!0},c.clickType=Modernizr.touchevents?"tap":"click",c.animTime=.15,c.resize=function(){},c.scriptsToLoad=["https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"],c.scriptsLoaded=0,"tap"===c.clickType&&c.scriptsToLoad.push("vendor/jquery.mobile.custom.min.js"),c.loadScriptsAsync=function(){for(var e=0;e<c.scriptsToLoad.length;e++)l.ajax({url:c.scriptsToLoad[e],dataType:"script",cache:!0,async:!0,success:c.fileLoaded});0===c.scriptsToLoad.length&&c.loadComplete()},c.fileLoaded=function(){c.scriptsLoaded++,c.scriptsLoaded===c.scriptsToLoad.length&&c.loadComplete()},c.loadComplete=function(){l.getJSON("examples/manifest.json",function(e){for(var i=Object.keys(e),t=0;t<i.length;t++){for(var n='<span class="section" data-section="'+i[t]+'">'+i[t]+'</span><ul data-section="'+i[t]+'">',a=e[i[t]],s=0;s<a.length;s++){var o=void 0!==a[s].plugins?a[s].plugins.join(","):"",r=void 0!==a[s].invalidVersions?a[s].invalidVersions.join(","):"";n+='<li data-src="'+a[s].entry+'" data-plugins="'+o+'" data-invalidVersions="'+r+'">'+a[s].title+"</li>"}n+="</ul>",l(".main-menu").append(n)}c.initNav()}),l.getJSON("https://api.github.com/repos/pixijs/pixi.js/git/refs/tags",function(e){e=e.filter(function(e){return 0===e.ref.indexOf("refs/tags/v3.0.11")||0===e.ref.indexOf("refs/tags/v4")}).map(function(e){return e.ref.replace("refs/tags/","")});for(var i=0;i<e.length;i++)l(".select-group .select ul").append('<li data-val="'+e[i]+'">'+e[i]+"</li>");l.getJSON("https://api.github.com/repos/pixijs/pixi.js/git/refs/heads",function(e){e=e.filter(function(e){return 0==e.ref.indexOf("refs/heads/next")}).map(function(e){return e.ref.replace("refs/heads/","")});for(var i=0;i<e.length;i++)l(".select-group .select ul").append('<li data-val="'+e[i]+'">'+e[i]+"</li>");var t=l('.select-group .select li[data-val="'+c.pixiVersionString+'"]');t.addClass("selected"),l(".select-group .select .current").text(t.text())})})},c.initNav=function(){if(l(".main-menu .section").on(c.clickType,function(){l(this).next("ul").slideToggle(250),l(this).toggleClass("open")}),l(".main-menu li").on(c.clickType,function(){if(!l(this).hasClass("selected")){l(".main-menu li.selected").removeClass("selected"),l(this).addClass("selected"),c.closeMobileNav(),l(".main-content h1").text(l(this).text());var e="/"+l(this).parent().attr("data-section")+"/"+l(this).attr("data-src"),i=l(this).text();window.location.hash=e,document.title=i+" - PixiJS Examples",ga("set",{page:e,title:i}),ga("send","pageview"),c.exampleUrl="examples/js/"+l(this).parent().attr("data-section")+"/"+l(this).attr("data-src"),c.exampleFilename=l(this).attr("data-src");var t=l(this).attr("data-plugins");c.exampleRequiredPlugins=""===t?[]:t.split(",");var n=l(this).attr("data-invalidVersions");c.exampleInvalidVersions=""===n?[]:n.split(",").map(function(e){return parseInt(e,10)}),l.ajax({url:"examples/js/"+l(this).parent().attr("data-section")+"/"+l(this).attr("data-src"),dataType:"text",success:function(e){c.exampleSourceCode=e,c.generateIFrameContent()}})}}),c.generateIFrameContent=function(){for(var e=document.querySelectorAll("iframe"),i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);l("#example").html('<iframe id="preview" src="blank.html"></iframe>');var t=c.exampleSourceCode,n="<!DOCTYPE html><html><head><style>body,html{margin:0px;height:100%;overflow:hidden;}canvas{width:100%;height:100%;}</style></head><body>";for(n+='<script src="https://code.jquery.com/jquery-3.3.1.min.js"><\/script>',n+='<script src="'+("local"===c.pixiVersionString?"dist/pixi.js":3===c.majorPixiVersion?"https://cdn.rawgit.com/GoodBoyDigital/pixi.js/"+c.pixiVersionString+"/bin/pixi.js":"https://d157l7jdn8e5sf.cloudfront.net/"+c.pixiVersionString+"/pixi.js")+'"><\/script>',c.majorPixiVersion<5&&(n+='<script src="pixi-plugins/pixi-legacy.js"><\/script>'),i=0;i<c.exampleRequiredPlugins.length;i++)n+='<script src="pixi-plugins/'+c.exampleRequiredPlugins[i]+'.js"><\/script>';-1===c.exampleInvalidVersions.indexOf(c.majorPixiVersion)&&(n+="<script>window.onload = function(){"+t+"}<\/script></body></html>"),l(".CodeMirror").remove(),l(".main-content #code").html(c.exampleSourceCode),-1===c.exampleInvalidVersions.indexOf(c.majorPixiVersion)?(c.editor=CodeMirror.fromTextArea(document.getElementById("code"),c.editorOptions),c.exampleRequiredPlugins.length?l("#code-header").text("Example Code (plugins used: "+c.exampleRequiredPlugins.toString()+")"):l("#code-header").text("Example Code"),l(".example-frame").show()):(l("#code-header").text("Example does not work on this version of PixiJS"),l(".example-frame").hide());var a=document.getElementById("preview"),s=a.contentDocument||a.contentWindow.document;s.open(),s.write(n),s.close()},c.openMobileNav=function(){TweenMax.to("#line1",c.animTime,{y:0,ease:Linear.easeNone}),TweenMax.to("#line2",0,{alpha:0,ease:Linear.easeNone,delay:c.animTime}),TweenMax.to("#line3",c.animTime,{y:0,ease:Linear.easeNone}),TweenMax.to("#line1",c.animTime,{rotation:45,ease:Quart.easeOut,delay:c.animTime}),TweenMax.to("#line3",c.animTime,{rotation:-45,ease:Quart.easeOut,delay:c.animTime}),l(".main-nav").addClass("mobile-open")},c.closeMobileNav=function(){TweenMax.to("#line1",c.animTime,{rotation:0,ease:Linear.easeNone,delay:0}),TweenMax.to("#line3",c.animTime,{rotation:0,ease:Linear.easeNone,delay:0}),TweenMax.to("#line2",0,{alpha:1,ease:Quart.easeOut,delay:c.animTime}),TweenMax.to("#line1",c.animTime,{y:-8,ease:Quart.easeOut,delay:c.animTime}),TweenMax.to("#line3",c.animTime,{y:8,ease:Quart.easeOut,delay:c.animTime}),l(".main-nav").removeClass("mobile-open")},l(".main-header .hamburger").on(c.clickType,function(e){return e.preventDefault(),l(".main-nav").hasClass("mobile-open")?c.closeMobileNav():c.openMobileNav(),!1}),""!==window.location.hash){var e=window.location.hash.replace("#/","").split("/");1<e.length&&0<l('.main-menu .section[data-section="'+e[0]+'"]').length&&(l('.main-menu .section[data-section="'+e[0]+'"]').trigger(c.clickType),0<l('.main-menu .section[data-section="'+e[0]+'"]').next().find('li[data-src="'+e[1]+'"]').length&&l('.main-menu .section[data-section="'+e[0]+'"]').next().find('li[data-src="'+e[1]+'"]').trigger(c.clickType))}else l(".main-menu .section").eq(0).trigger(c.clickType),l(".main-menu li").eq(0).trigger(c.clickType);l(".select-group").on(c.clickType,function(){l(this).find(".select").hasClass("open")?(l(this).find(".select").removeClass("open"),l(this).find("ul").slideUp(150)):(l(this).find(".select").addClass("open"),l(this).find("ul").slideDown(150))}),l(".select-group .select").on(c.clickType,"li",function(){l(this).hasClass("selected")||(l(".select-group .select li.selected").removeClass("selected"),l(this).addClass("selected"),l(".select-group .select .current").text(l(this).text()),c.pixiVersionString=l(this).attr("data-val"),c.majorPixiVersion=getMajorPixiVersion(c.pixiVersionString),window.history.pushState(c.pixiVersionString,null,"?v="+c.pixiVersionString+location.hash),c.generateIFrameContent(),l(".main-content").animate({scrollTop:0},200))}),l(".footer .download").on(c.clickType,function(){c.SaveToDisk(c.exampleUrl,c.exampleFilename)}),l(".reload").on(c.clickType,function(){c.exampleSourceCode=c.editor.getValue(),c.generateIFrameContent()})},c.SaveToDisk=function(e,i){if(window.ActiveXObject){if(window.ActiveXObject&&document.execCommand){var t=window.open(e,"_blank");t.document.close(),t.document.execCommand("SaveAs",!0,i||e),t.close()}}else{var n=document.createElement("a");n.href=e,n.target="_blank",n.download=i||"unknown";var a=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});n.dispatchEvent(a),(window.URL||window.webkitURL).revokeObjectURL(n.href)}},c.init=function(){/MSIE (\d+\.\d+);/.test(navigator.userAgent)&&(c.clickType="click"),l(window).resize(c.resize),c.loadScriptsAsync()},c.init()});